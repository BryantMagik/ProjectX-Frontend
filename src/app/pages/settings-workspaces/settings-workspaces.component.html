<div class="bg-white shadow sm:rounded-lg select-none mb-3">
    <form [formGroup]="workspaceForm" (ngSubmit)="onSubmit()">
        <div class="px-4 py-5 sm:p-6">
            <p class="text-2xl font-medium text-gray-900">Settings for {{workspace?.name}}</p>
            <hr class="mt-4 p-2 border-dashed">
            <div class="mt-5">
                <div class="space-y-2">
                    <label for="name" class="block font-bold text-sm text-gray-700">Workspace Name</label>
                    <input type="text" id="name" pInputText formControlName="name" placeholder="Edit workspace name"
                        class="w-full border rounded-md h-12 p-3" [value]="workspace?.name" />
                    <label for="name" class="block font-bold text-sm text-gray-700">Description</label>
                    <textarea id="workspace-description" pInputText formControlName="description"
                        placeholder="Description of the workspace" class="w-full border rounded-md p-3"
                        rows="4">{{ workspace?.description }}</textarea>
                </div>
                <div class="mt-2">
                    <div class="flex flex-row items-center p-5 rounded-lg w-auto space-x-4">
                        <div class="w-24 h-24 rounded-md bg-gray-300 flex justify-center items-center overflow-hidden"
                            *ngIf="workspaceForm.get('image')?.value; else defaultImage">
                            <img [src]="workspaceForm.get('image')?.value" alt="Workspace Icon" class="image-icon" />
                        </div>
                        <ng-template #defaultImage>
                            <div
                                class="flex items-center justify-center w-[100px] h-[100px] bg-slate-200 rounded-full p-4">
                                <img [src]="workspace?.image" alt="Workspace Icon" class="object-cover w-full h-full" />
                            </div>
                        </ng-template>
                        <div class="mt-3">
                            <label for="image" class="font-bold text-sm text-gray-700">Workspace Icon</label>
                            <p class="text-xs text-gray-500">JPG, PNG, SVG or JPEG, max 1mb</p>
                            <input #fileInput id="image" type="file" (change)="onFileSelected($event)"
                                accept=".jpg, .jpeg, .png, .svg" class="mt-2 hidden" />
                            <a (click)="fileInput.click()"
                                class="mt-3 px-2 py-1 bg-blue-200 text-white rounded-md font-bold hover:text-blue-500 focus:outline-none cursor-pointer">
                                Upload Image
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <p class="text-2xl font-medium text-gray-900">Members from {{workspace?.name}}</p>
            <hr class="mt-4 p-2 border-dashed">
            <div class="mt-5">
            </div>
            <div class="mt-5 flex justify-end">
                <button
                    class="mt-4 p-4 text-sm font-extrabold w-auto border rounded-md bg-blue-700 text-white shadow-md hover:bg-blue-600 hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-blue-500">
                    Save Changes
                </button>
            </div>
            <div class="mt-5 flex">

            </div>
        </div>
    </form>
</div>
<div class="bg-white shadow sm:rounded-lg select-none">
    <div class="px-4 py-5 sm:p-6 flex flex-col">
        <p class="text-2xl font-bold text-gray-900">Danger Zone</p>
        <hr class="mt-2 p-2 border-dashed">
        <p class="font-light text-gray-900/50"> Deleting a workspace is irreversible. This action will remove all data
            associated with this workspace.
        </p>
        <div class="flex justify-end">
            <button (click)="toggleModal()"
                class="mt-4 p-4 text-sm font-extrabold w-auto border rounded-md bg-red-700 text-white shadow-md hover:bg-red-600 hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-red-500">
                Delete Workspace
            </button>
        </div>
    </div>
</div>
<app-modal-delete-workspace *ngIf="showModal" (close)="toggleModal()"
    (deleteConfirmed)="handleDelete()"></app-modal-delete-workspace>
<div class="navbar">
  <div class="navbar-container">
    <div class="mobile-logo">
      <div class="mobile-logo-icon">
        <i class="pi pi-th-large text-white"></i>
      </div>
      <h4 class="mobile-logo-text">ProjectX</h4>
    </div>

    <nav class="navbar-content">
      <div class="navbar-title">
        <div class="breadcrumb-container">
          <i class="pi pi-home breadcrumb-icon"></i>
          <span class="breadcrumb-text">Dashboard</span>
        </div>
      </div>

      <div class="navbar-actions">
        <!-- BotÃ³n que debemos---->
        <!-- <button class="action-button lg:hidden" title="Search">
          <i class="pi pi-search"></i>
        </button> -->

        <div class="notifications-wrapper hidden md:block" (click)="$event.stopPropagation()">
          <button
            class="action-button notification-trigger"
            title="Notifications"
            type="button"
            (click)="toggleNotifications($event)">
            <i class="pi pi-bell"></i>
            @if (unreadCount > 0) {
              <span class="notification-badge">{{ unreadCount > 9 ? '9+' : unreadCount }}</span>
            }
          </button>

          @if (isNotificationsOpen) {
            <div class="notifications-popover">
              <app-notifications
                [notifications]="notifications"
                [loading]="notificationsLoading"
                [error]="notificationsError"
                [unreadCount]="unreadCount"
                (openNotification)="onOpenNotification($event)"
                (markAllRead)="onMarkAllAsRead()">
              </app-notifications>
            </div>
          }
        </div>

        <button class="action-button hidden md:flex" title="Settings">
          <i class="pi pi-cog"></i>
        </button>

        <app-mobil-dropdown class="md:hidden"></app-mobil-dropdown>

        <app-avatar-dropdown [user]="user"></app-avatar-dropdown>
      </div>
    </nav>
  </div>
</div>
